(this["webpackJsonpfirebase-redux"]=this["webpackJsonpfirebase-redux"]||[]).push([[0],{214:function(e,t,a){},397:function(e,t,a){"use strict";a.r(t);var n=a(2),r=a(207),c=a.n(r),s=(a(214),a(22)),i=a(23),l=a(25),o=a(24),j=a(11),d=a(7),h=a(36),u=a(14),b=a(1),p=function(e){Object(l.a)(a,e);var t=Object(o.a)(a);function a(){var e;Object(s.a)(this,a);for(var n=arguments.length,r=new Array(n),c=0;c<n;c++)r[c]=arguments[c];return(e=t.call.apply(t,[this].concat(r))).state={email:"",password:""},e.handleChange=function(t){e.setState(Object(h.a)({},t.target.id,t.target.value))},e.handleSubmit=function(t){t.preventDefault(),e.props.signIn(e.state)},e}return Object(i.a)(a,[{key:"render",value:function(){return this.props.auth.uid?Object(b.jsx)(d.a,{to:"/"}):Object(b.jsx)("div",{className:"container",children:Object(b.jsxs)("form",{onSubmit:this.handleSubmit,className:"white",children:[Object(b.jsx)("h5",{className:"grey-text text-darken-3",children:"Sign IN"}),Object(b.jsxs)("div",{className:"input-field",children:[Object(b.jsx)("label",{htmlFor:"email",children:"Email"}),Object(b.jsx)("input",{type:"email",name:"",id:"email",value:this.state.email,onChange:this.handleChange})]}),Object(b.jsxs)("div",{className:"input-field",children:[Object(b.jsx)("label",{htmlFor:"password",children:"Password"}),Object(b.jsx)("input",{value:this.state.password,type:"password",name:"",id:"password",onChange:this.handleChange})]}),Object(b.jsxs)("div",{className:"input-field",children:[Object(b.jsx)("button",{className:"btn pink lighten-1 z-depth-0",children:"Login"}),Object(b.jsx)("div",{className:"red-text center",children:this.props.authError&&Object(b.jsx)("p",{children:this.props.authError})})]})]})})}}]),a}(n.Component),O=Object(u.b)((function(e){return{authError:e.auth.authError,auth:e.firebase.auth}}),(function(e){return{signIn:function(t){return e((a=t,function(e,t,n){(0,n.getFirebase)().auth().signInWithEmailAndPassword(a.email,a.password).then((function(){e({type:"LOGIN_SUCCESS"})})).catch((function(t){e({type:"LOGIN_ERROR",err:t})}))}));var a}}}))(p),m=a(17),f=a(89),x=a.n(f);function g(e){var t=e.title,a=(e.content,e.authorFirstName),n=e.authorLastName,r=e.createdAt;return Object(b.jsx)("div",{className:"card z-depth-0 project-summary",children:Object(b.jsxs)("div",{className:"card-content gray-text text-darken-3",children:[Object(b.jsx)("span",{className:"card-title",children:t}),Object(b.jsxs)("p",{children:["Posted By ",a," ",n," "]}),Object(b.jsx)("p",{className:"grey-text",children:x()(r.toDate()).calendar()})]})})}var N=function(e){var t=e.projects;return Object(b.jsx)("div",{className:"project-list section",children:t&&t.map((function(e){return Object(b.jsx)(j.b,{to:"/project/".concat(e.id),children:Object(b.jsx)(g,Object(m.a)({},e))},e.id)}))})},v=function(){return Object(b.jsx)("div",{className:"section",children:Object(b.jsx)("div",{className:"card z-depth-0",children:Object(b.jsxs)("div",{className:"card-content",children:[Object(b.jsx)("span",{className:"card-title",children:"Notifications"}),Object(b.jsx)("ul",{className:"notifications",children:Object(b.jsx)("li",{children:"Notification"})})]})})})},C=a(32),y=a(26),S=function(e){Object(l.a)(a,e);var t=Object(o.a)(a);function a(){return Object(s.a)(this,a),t.apply(this,arguments)}return Object(i.a)(a,[{key:"render",value:function(){var e=this.props,t=e.projects;return e.auth.uid?Object(b.jsx)("div",{className:"dashboard container",children:Object(b.jsxs)("div",{className:"row",children:[Object(b.jsx)("div",{className:"col s12 m6",children:Object(b.jsx)(N,{projects:t})}),Object(b.jsx)("div",{className:"col s12 m5 offset-m1",children:Object(b.jsx)(v,{})})]})}):Object(b.jsx)(d.a,{to:"/signin"})}}]),a}(n.Component),E=Object(y.d)(Object(u.b)((function(e){return{projects:e.firestore.ordered.projects,auth:e.firebase.auth}})),Object(C.firestoreConnect)([{collection:"projects",orderBy:["createdAt","desc"]}]))(S),w=Object(u.b)((function(e){return{}}),(function(e){return{signOut:function(){e((function(e,t,a){(0,a.getFirebase)().auth().signOut().then((function(){e({type:"SIGN_OUT_SUCCESS"})}))}))}}}))((function(e){var t=e.signOut,a=e.profile;return Object(b.jsxs)("ul",{className:"right",children:[Object(b.jsx)("li",{children:Object(b.jsx)(j.c,{to:"/create",children:"New Project"})}),Object(b.jsx)("li",{children:Object(b.jsx)("a",{onClick:t,children:"Log Out"})}),Object(b.jsx)("li",{children:Object(b.jsx)(j.c,{to:"/",className:"btn btn-floating pink lighten-1",children:a.initials})})]})})),R=function(){return Object(b.jsxs)("ul",{className:"right",children:[Object(b.jsx)("li",{children:Object(b.jsx)(j.c,{to:"/signup",children:"Signup"})}),Object(b.jsx)("li",{children:Object(b.jsx)(j.c,{to:"/signin",children:"Login"})})]})},F=Object(u.b)((function(e){return{auth:e.firebase.auth,profile:e.firebase.profile}}))((function(e){var t=e.auth,a=e.profile;return Object(b.jsx)("nav",{className:"nav-wrapper grey darken-3",children:Object(b.jsxs)("div",{className:"container",children:[Object(b.jsx)(j.b,{to:"/",className:"brand-logo",children:"Erdal Plan"}),t.uid?Object(b.jsx)(w,{profile:a}):Object(b.jsx)(R,{})]})})})),I=function(e){Object(l.a)(a,e);var t=Object(o.a)(a);function a(){return Object(s.a)(this,a),t.apply(this,arguments)}return Object(i.a)(a,[{key:"render",value:function(){var e=this.props,t=e.project;return e.auth.uid?t?Object(b.jsx)("div",{className:"container section project-details",children:Object(b.jsxs)("div",{className:"card z-depth-0",children:[Object(b.jsxs)("div",{className:"card-content",children:[Object(b.jsx)("span",{className:"card-title",children:t.title}),Object(b.jsx)("p",{children:t.content})]}),Object(b.jsxs)("div",{className:"card-action grey lighten-4 gery-text",children:["Posted by ",t.authorFirstName," ",t.authorLastName]}),Object(b.jsx)("div",{children:x()(t.createdAt.toDate()).calendar()})]})}):Object(b.jsx)("div",{className:"container center",children:Object(b.jsx)("p",{children:"loading .... project"})}):Object(b.jsx)(d.a,{to:"/signin"})}}]),a}(n.Component),A=Object(y.d)(Object(u.b)((function(e,t){var a=t.match.params.id,n=e.firestore.data.projects;return{project:n?n[a]:null,auth:e.firebase.auth}}),(function(e){return{}})),Object(C.firestoreConnect)([{collection:"projects"}]))(I),P=function(e){Object(l.a)(a,e);var t=Object(o.a)(a);function a(){var e;Object(s.a)(this,a);for(var n=arguments.length,r=new Array(n),c=0;c<n;c++)r[c]=arguments[c];return(e=t.call.apply(t,[this].concat(r))).state={email:"",password:"",firstName:"",lastName:""},e.handleChange=function(t){e.setState(Object(h.a)({},t.target.id,t.target.value))},e.handleSubmit=function(t){t.preventDefault(),e.props.signUp(e.state)},e}return Object(i.a)(a,[{key:"render",value:function(){var e=this.props,t=e.auth,a=e.authError;return t.uid?Object(b.jsx)(d.a,{to:"/"}):Object(b.jsx)("div",{className:"container",children:Object(b.jsxs)("form",{onSubmit:this.handleSubmit,className:"white",children:[Object(b.jsx)("h5",{className:"grey-text text-darken-3",children:"Sign Up"}),Object(b.jsxs)("div",{className:"input-field",children:[Object(b.jsx)("label",{htmlFor:"email",children:"Email"}),Object(b.jsx)("input",{type:"email",name:"",id:"email",value:this.state.email,onChange:this.handleChange})]}),Object(b.jsxs)("div",{className:"input-field",children:[Object(b.jsx)("label",{htmlFor:"password",children:"Password"}),Object(b.jsx)("input",{value:this.state.password,type:"password",name:"",id:"password",onChange:this.handleChange})]}),Object(b.jsxs)("div",{className:"input-field",children:[Object(b.jsx)("label",{htmlFor:"firstName",children:"firstName"}),Object(b.jsx)("input",{type:"text",name:"",id:"firstName",value:this.state.firstName,onChange:this.handleChange})]}),Object(b.jsxs)("div",{className:"input-field",children:[Object(b.jsx)("label",{htmlFor:"lastName",children:"lastName"}),Object(b.jsx)("input",{type:"text",name:"",id:"lastName",value:this.state.lastName,onChange:this.handleChange})]}),Object(b.jsxs)("div",{className:"input-field",children:[Object(b.jsx)("button",{className:"btn pink lighten-1 z-depth-0",children:"Sign Up"}),Object(b.jsx)("div",{className:"red-text center",children:a&&Object(b.jsx)("p",{children:a})})]})]})})}}]),a}(n.Component),k=Object(u.b)((function(e){return{auth:e.firebase.auth,authError:e.auth.authError}}),(function(e){return{signUp:function(t){e(function(e){return function(t,a,n){var r=n.getFirebase,c=n.getFirestore,s=r(),i=c();s.auth().createUserWithEmailAndPassword(e.email,e.password).then((function(t){return i.collection("users").doc(t.user.uid).set({firstName:e.firstName,lastName:e.lastName,initials:e.firstName[0]+e.lastName[0]})})).then((function(){t({type:"SIGNUP_SUCCESS"})})).catch((function(e){t({type:"SIGNUP_ERROR",err:e})}))}}(t))}}}))(P),_=function(e){Object(l.a)(a,e);var t=Object(o.a)(a);function a(){var e;Object(s.a)(this,a);for(var n=arguments.length,r=new Array(n),c=0;c<n;c++)r[c]=arguments[c];return(e=t.call.apply(t,[this].concat(r))).state={title:"",content:""},e.handleChange=function(t){e.setState(Object(h.a)({},t.target.id,t.target.value))},e.handleSubmit=function(t){t.preventDefault(),e.props.createProject(e.state),e.setState({title:"",content:""}),e.props.history.push("/")},e}return Object(i.a)(a,[{key:"render",value:function(){return this.props.auth.uid?Object(b.jsx)("div",{className:"container",children:Object(b.jsxs)("form",{onSubmit:this.handleSubmit,className:"white",children:[Object(b.jsx)("h5",{className:"grey-text text-darken-3",children:"Create New Project"}),Object(b.jsxs)("div",{className:"input-field",children:[Object(b.jsx)("label",{htmlFor:"title",children:"Title"}),Object(b.jsx)("input",{type:"text",name:"",id:"title",value:this.state.email,onChange:this.handleChange})]}),Object(b.jsxs)("div",{className:"input-field",children:[Object(b.jsx)("label",{htmlFor:"content",children:"PRoject Content"}),Object(b.jsx)("textarea",{id:"content",onChange:this.handleChange,className:"materialize-textarea"})]}),Object(b.jsx)("div",{className:"input-field",children:Object(b.jsx)("button",{className:"btn pink lighten-1 z-depth-0",children:"Create"})})]})}):Object(b.jsx)(d.a,{to:"/signin"})}}]),a}(n.Component),U=Object(u.b)((function(e){return{auth:e.firebase.auth}}),(function(e){return{createProject:function(t){return e(function(e){return function(t,a,n){n.getFirebase;var r=n.getFirestore,c=a().firebase.profile,s=c.lastName,i=c.firstName,l=a().firebase.auth.uid;r().collection("projects").add(Object(m.a)(Object(m.a)({},e),{},{authorFirstName:i,authorLastName:s,authorID:l,createdAt:new Date})).then((function(){t({type:"CREATE_PROJECT",project:e})})).catch((function(e){t({type:"CREATE_PROJECT_ERROR",err:e})}))}}(t))}}}))(_),L=function(e){Object(l.a)(a,e);var t=Object(o.a)(a);function a(){return Object(s.a)(this,a),t.apply(this,arguments)}return Object(i.a)(a,[{key:"render",value:function(){return Object(b.jsx)(j.a,{children:Object(b.jsxs)("div",{className:"App",children:[Object(b.jsx)(F,{}),Object(b.jsxs)(d.d,{children:[Object(b.jsx)(d.b,{path:"/",exact:!0,component:E}),Object(b.jsx)(d.b,{path:"/project/:id",component:A}),Object(b.jsx)(d.b,{path:"/signin",component:O}),Object(b.jsx)(d.b,{path:"/signup",component:k}),Object(b.jsx)(d.b,{path:"/create",component:U})]})]})})}}]),a}(n.Component),T={authError:""},z=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{initState:T},t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"LOGIN_ERROR":return console.log("error"),Object(m.a)(Object(m.a)({},e),{},{authError:"Login failed"});case"LOGIN_SUCCESS":return console.log("login success"),Object(m.a)(Object(m.a)({},e),{},{authError:""});case"SIGN_OUT_SUCCESS":return console.log("BASARILI"),e;case"SIGNUP_SUCCESS":return console.log("signup basarili"),e;case"SIGNUP_ERROR":return console.log("singup basarisiz"),Object(m.a)(Object(m.a)({},e),{},{authError:t.err.message});default:return e}},G=a(209),D={projects:[]},J=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:D,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"CREATE_PROJECT":return Object(m.a)(Object(m.a)({},e),{},{projects:[].concat(Object(G.a)(e.projects),[t.project])});case"CREATE_PROJECT_ERROR":return console.log(t.err),e;default:return e}},B=a(64),W=Object(y.c)({auth:z,project:J,firestore:B.firestoreReducer,firebase:C.firebaseReducer}),K=a(208),V=a(91);a(398),a(395);V.a.initializeApp({apiKey:"AIzaSyC64_VfJex7jyhYli6h22fbAOyi-uxdbTk",authDomain:"erdal-marioplan.firebaseapp.com",projectId:"erdal-marioplan",storageBucket:"erdal-marioplan.appspot.com",messagingSenderId:"631842751808",appId:"1:631842751808:web:ec2ab9a303a1ac72e866a5"}),V.a.firestore().settings({timestampsInSnapshots:!0});var Y=V.a,q=Object(y.e)(W,Object(y.d)(Object(y.a)(K.a.withExtraArgument({getFirebase:C.getFirebase,getFirestore:B.getFirestore})),Object(C.reactReduxFirebase)(Y,{useFirestoreForProfile:!0,userProfile:"users",attachAuthIsReady:!0}),Object(B.reduxFirestore)(Y)));q.firebaseAuthIsReady.then((function(){c.a.render(Object(b.jsx)(u.a,{store:q,children:Object(b.jsx)(L,{})}),document.getElementById("root"))}))}},[[397,1,2]]]);
//# sourceMappingURL=main.2fe3c803.chunk.js.map